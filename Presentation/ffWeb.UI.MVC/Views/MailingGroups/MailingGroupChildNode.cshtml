@model IEnumerable<fPeerLending.Entities.MailingGroup>
@using ffWeb.UI.MVC.Helpers

@foreach (var treeNode in Model)
{
    <ul>
        @if (treeNode != null)
        { 
            <li>
                @treeNode.NodeName
                &nbsp;  &nbsp;
                      @Html.NoEncodeActionLink("<span class='glyphicon glyphicon-plus'></span>", "Create Group", "CreateMailingGroup", "Offers", routeValues: new { id = treeNode.GroupId }, htmlAttributes: new { data_modal = "", @class = "btn btn-primary" })
                &nbsp;  &nbsp;
                   @Html.NoEncodeActionLink("<span class='glyphicon glyphicon-pencil'></span>", "Edit Group", "EditMailingGroup", "Offers", routeValues: new { id = treeNode.GroupId }, htmlAttributes: new { data_modal = "", @class = "btn btn-default" })
                &nbsp;  &nbsp;
                     @Html.NoEncodeActionLink("<span class='glyphicon glyphicon-trash'></span>", "Delete Group", "DeleteMailingGroup", "Offers", routeValues: new { id = treeNode.GroupId }, htmlAttributes: new { data_modal = "", @class = "btn btn-danger" })

                @if (treeNode.ChildNode.Count > 0)
                {
                    @Html.Partial("MailingGroupChildNode", treeNode.ChildNode)
                }

            </li> 
        }
    </ul>
}




@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
